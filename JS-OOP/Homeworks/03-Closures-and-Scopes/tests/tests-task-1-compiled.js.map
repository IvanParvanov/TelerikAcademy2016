{"version":3,"sources":["tests-task-1.js"],"names":[],"mappings":"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","file":"tests-task-1-compiled.js","sourcesContent":["/* globals describe, it, beforeEach */\nvar expect = require('chai').expect;\n\ndescribe('Tests for Closures and Scopes in JavaScript', function () {\n\tvar library,\n\t\tCONSTS = {\n\t\t\tVALID: {\n\t\t\t\tBOOK_TITLE: 'BOOK #',\n\t\t\t\tBOOK_ISBN: {\n\t\t\t\t\tTEN_DIGITS: '1234567890',\n\t\t\t\t\tTHIRTEEN_DIGITS: '1234567890123',\n\t\t\t\t},\n\t\t\t\tAUTHOR: 'John Doe',\n\t\t\t\tCATEGORY: 'Book Category'\n\t\t\t},\n\t\t\tINVALID: {\n\t\t\t\tBOOK_TITLE: {\n\t\t\t\t\tSHORT: 'B',\n\t\t\t\t\tLONG: new Array(102).join('A')\n\t\t\t\t},\n\t\t\t\tAUTHOR: '',\n\t\t\t\tBOOK_ISBN: '1234'\n\t\t\t}\n\t\t};\n\n\tdescribe('\"Task 1: Library\"', function () {\n\t\tbeforeEach(function (done) {\n\t\t\tlibrary = require('../tasks/task-1-compiled')();\n\t\t\tdone();\n\t\t});\n\n\t\tit('expect library to exist', function () {\n\t\t\texpect(library).to.exist;\n\t\t});\n\n\t\tit('expect library.books to exist', function () {\n\t\t\texpect(library.books).to.exist;\n\t\t});\n\n\t\tit('expect library.categories to exist', function () {\n\t\t\texpect(library.categories).to.exist;\n\t\t});\n\n\t\tdescribe('library.books.add', function () {\n\t\t\tit('expect to exist and to be a function', function () {\n\t\t\t\texpect(library.books.add).to.exist;\n\t\t\t\texpect(library.books.add).to.be.a('function');\n\t\t\t});\n\n\t\t\tit('expect the book to be returned with generated ID(number greater than 1), when title, ISBN and author are valid', function () {\n\t\t\t\tvar bookToAdd = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t};\n\t\t\t\tvar book = library.books.add(bookToAdd);\n\t\t\t\texpect(book.ID).to.exist;\n\t\t\t\texpect(book.ID).to.be.a('number');\n\t\t\t\texpect(book.ID).to.be.at.least(1);\n\t\t\t\texpect(book.title).to.equal(bookToAdd.title);\n\t\t\t\texpect(book.isbn).to.equal(bookToAdd.isbn);\n\t\t\t\texpect(book.author).to.equal(bookToAdd.author);\n\t\t\t});\n\n\t\t\tit('expect to throw, when missing title, category, author and isbn', function () {\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add();\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when with invalid title (short)', function () {\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.INVALID.BOOK_TITLE.SHORT,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when with invalid title (long)', function () {\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.INVALID.BOOK_TITLE.LONG,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when with invalid isbn', function () {\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tisbn: CONSTS.INVALID.BOOK_ISBN,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when with invalid author', function () {\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.INVALID.AUTHOR\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when book with repeating title is added', function () {\n\t\t\t\tvar book = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t},\n\t\t\t\t\tbook2 = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE, // same title\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS, // different ISBN\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t};\n\t\t\t\tlibrary.books.add(book);\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add(Object.create(book2));\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t\tit('expect to throw, when book with repeating ISBN is added', function () {\n\t\t\t\tvar book = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t},\n\t\t\t\t\tbook2 = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + (Math.random()*1000 + ''), // different title\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS, // same ISBN\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t};\n\t\t\t\tlibrary.books.add(book);\n\t\t\t\tfunction test() {\n\t\t\t\t\tlibrary.books.add(Object.create(book2));\n\t\t\t\t}\n\t\t\t\texpect(test).to.throw();\n\t\t\t});\n\n\t\t});\n\n\n\t\tdescribe('library.books.list', function () {\n\t\t\tit('expect to exist and to be a function', function () {\n\t\t\t\texpect(library.books.list).to.exist;\n\t\t\t\texpect(library.books.list).to.be.a('function');\n\t\t\t});\n\t\t\tit('expect to return empty array, when no books are added', function () {\n\t\t\t\texpect(library.books.list()).to.eql([]);\n\t\t\t});\n\t\t\tit('expect to return array with single book, when a single book is added', function () {\n\t\t\t\tvar book = library.books.add({\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t});\n\t\t\t\texpect(library.books.list()).to.eql([book]);\n\t\t\t});\n\n\t\t\tit('expect to return empty array, when category is provided and no book in that category is added', function () {\n\t\t\t\t\tvar book = library.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t\texpect(library.books.list({\n\t\t\t\t\t\tcategory: book.category + (Math.random()*1000 + '')\n\t\t\t\t\t})).to.eql([]);\n\t\t\t});\n\n\t\t\tit('expect to return array with single book, ' +\n\t\t\t\t'when category is provided and single book in that category is added', function () {\n\t\t\t\t\tvar book = library.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t\texpect(library.books.list({\n\t\t\t\t\t\tcategory: book.category\n\t\t\t\t\t})).to.eql([book]);\n\t\t\t\t});\n\t\t\tit('expect to return array with single book, ' +\n\t\t\t\t'when category is provided, there are other books ' +\n\t\t\t\t'and single book in that category is added', function () {\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + (Math.random() * 1000 + '').substr(3, 10),\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR + 'test',\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + (Math.random() * 1000 + '').substr(3, 10)\n\t\t\t\t\t});\n\n\t\t\t\t\tvar book = library.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS.substr(0, 11) + '11',\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\n\t\t\t\t\tlibrary.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 'test',\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR + 'test',\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + 'another'\n\t\t\t\t\t});\n\n\t\t\t\t\texpect(library.books.list({\n\t\t\t\t\t\tcategory: book.category\n\t\t\t\t\t})).to.eql([book]);\n\t\t\t\t});\n\t\t\tit('expect to return empty array, ' +\n\t\t\t\t'when category is provided and there is no book with this category', function () {\n\t\t\t\t\tvar book = library.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t\texpect(library.books.list({\n\t\t\t\t\t\tcategory: 'NOT-' + book.category\n\t\t\t\t\t})).to.eql([]);\n\t\t\t\t});\n\n\n\t\t\tit('expect to return empty array, ' +\n\t\t\t\t'when author is provided and there is no book of this author', function () {\n\t\t\t\t\tvar book = library.books.add({\n\t\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE,\n\t\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t\t});\n\t\t\t\t\texpect(library.books.list({\n\t\t\t\t\t\tauthor: 'NOT-' + book.author\n\t\t\t\t\t})).to.eql([]);\n\t\t\t\t});\n\t\t});\n\n\t\tdescribe('library.categories.list', function () {\n\t\t\tit('expect to exist and to be a function', function () {\n\t\t\t\texpect(library.categories.list).to.exist;\n\t\t\t\texpect(library.categories.list).to.be.a('function');\n\t\t\t});\n\n\t\t\tit('expect to return empty array, when no books are added', function () {\n\t\t\t\texpect(library.categories.list()).to.eql([]);\n\t\t\t});\n\n\t\t\tit('expect to return array with single category, when books from the same category are added', function () {\n\t\t\t\tvar book = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 1,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t},\n\t\t\t\t\tbook2 = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 2,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.THIRTEEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t};\n\t\t\t\tlibrary.books.add(book);\n\t\t\t\tlibrary.books.add(book2);\n\t\t\t\texpect(library.categories.list()).to.eql([book.category]);\n\t\t\t});\n\n\t\t\tit('expect to return array with single category, when a single book is added', function () {\n\t\t\t\tvar book = {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 1,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS,\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY\n\t\t\t\t};\n\t\t\t\tlibrary.books.add(book);\n\t\t\t\texpect(library.categories.list()).to.eql([book.category]);\n\t\t\t});\n\n\t\t\tit('expect to return array with correctly ordered categories, when there are books of a different category', function () {\n\t\t\t\tvar books = [{\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 0,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '5',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '5'\n\t\t\t\t}, {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 1,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '4',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '3'\n\t\t\t\t}, {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 2,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '3',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '7'\n\t\t\t\t}, {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 5,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '0',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '3'\n\t\t\t\t}, {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 4,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '1',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '5'\n\t\t\t\t}, {\n\t\t\t\t\ttitle: CONSTS.VALID.BOOK_TITLE + 3,\n\t\t\t\t\tisbn: CONSTS.VALID.BOOK_ISBN.TEN_DIGITS.substring(0, 9) + '2',\n\t\t\t\t\tauthor: CONSTS.VALID.AUTHOR,\n\t\t\t\t\tcategory: CONSTS.VALID.CATEGORY + '7'\n\t\t\t\t}];\n\t\t\t\tfor(var i in books) {\n\t\t\t\t\tlibrary.books.add(books[i]);\n\t\t\t\t}\n\t\t\t\texpect(library.categories.list()).to.eql([books[0].category, books[1].category, books[2].category]);\n\t\t\t});\n\t\t});\n\t});\n});\n"]}